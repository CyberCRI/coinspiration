<ion-view title="Action groups">
    <ion-content>
        <label class="item item-input">
            <form name="challengeFilter" style="width: 100%;padding-right: 16px;">
                    <label class="item item-input">
                        <i class="icon ion-search placeholder-icon"></i>
                        <input type="search" placeholder=" Looking for an action group ?" name="query" ng-model="ctrl.query.title">
                    </label>
            </form>
        </label>
        <div class="list">
            <div class="item my-item item-icon-right"
                 collection-repeat="challenge in ctrl.challenges |filter:ctrl.query "
                 collection-item-width="'100%'"
                 collection-item-height="getItemHeight(item, $index)"
                 ng-style="{height: getItemHeight(item, $index)}">
                {{ challenge.title }}

                <i class="icon ion-chevron-right"></i>
            </div>
        </div>
            <div class="card"  ng-if="(ctrl.challenges | filter:ctrl.query).length == 0">
                <div class="item item-text-wrap">
                    Nothing like that around
                </div>
                <div class="item item-divider">
                    <button class="button-block button-energized button" ng-click="ctrl.popup()">
                        Create your own action group
                    </button>
                </div>
            </div>
    </ion-content>
</ion-view>

<script id="action-modal.tpl.html" type="text/ng-template">
    <ion-modal-view>
        <ion-header-bar class="bar-positive">
            <h1 class="title">Propose an action group</h1>
            <a class="button icon-left ion-chevron-down button-clear button-dark" ng-click="ctrl.modal.hide()"></a>
        </ion-header-bar>
        <ion-content>
            <form name="actionForm" class="padding">
                <div class="list">
                    <label class="item item-input item-floating-label">
                        <span class="input-label">title</span>
                        <input type="text" placeholder="title" ng-model="ctrl.actionGroup.title">
                    </label>
                    <label class="item item-input item-floating-label">
                        <span class="input-label">Brief description</span>
                        <textarea rows="15" placeholder="Brief description" ng-model="ctrl.actionGroup.brief"></textarea>
                    </label>
                </div>
                <button class="button-energized button-block button">
                    Submit your action group
                </button>
            </form>
        </ion-content>
    </ion-modal-view>
</script>